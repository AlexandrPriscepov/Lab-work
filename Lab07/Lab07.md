# 7 Лабораторная Работа
## Прищепов Александр НПМ-03-21
### Введение:
- Цель работы:
    Освоение основных возможностей командной оболочки Midnight Commander. Приоб-
    ретение навыков практической работы по просмотру каталогов и файлов; манипуляций
    с ними.
### Ход Работы:
1) Запускаем редактор mc, предварительно изучив его через команду man mc. (рис 1,2):

    рис 1:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168065900-ee2cbbcd-988e-4f5a-aeec-fa6fb628899e.png)
    
    рис 2:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168065960-638379e8-392b-4647-919f-aa60df5ebfa4.png)

2) Выполняем несколько операций в mc, используя управляющие клавиши (операции с панелями; выделение/отмена выделения файлов, копирование/перемещение файлов, получение информации о размере и правах доступа на файлы и/или каталогии т.п.):

  ![изображение](https://user-images.githubusercontent.com/104249657/168066264-8c1f7494-2774-4714-8dfb-684ee25d856e.png)

3) Выполняем основные команды меню левой (или правой) панели. Оцениваем степень подробности вывода информации о файлах (рис 3):

    рис 3:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168066524-c1519e4e-aab4-435c-ae8d-8acae3b5d3e2.png)

4) Используя возможности подменю Файл , выполняем:
    – просмотр содержимого текстового файла;
    – редактирование содержимого текстового файла (без сохранения результатов редактирования);
    – создание каталога;
    – копирование в файлов в созданный каталог. (рис 4):
    
    рис 4:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168066756-cefa472d-8534-4f08-91b2-d5b1ed7e54cd.png)

5) С помощью соответствующих средств подменю Команда осуществляю:
    – поиск в файловой системе файла с заданными условиями (например, файла с расширением .c или .cpp, содержащего строку main);
    – выбор и повторение одной из предыдущих команд;
    – переход в домашний каталог;
    – анализ файла меню и файла расширений. (рис 5):
    
    рис 5:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168066951-a5fe7b66-c16d-4f98-bbc0-1fcd32f25219.png)

6) Вызовая подменю Настройки . Осваиваю операции, определяющие структуру экрана mc (рис 6):

    рис 6:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168067328-8cb407ef-3bfa-4b9f-bf76-b50e81743fd3.png)

7) Создаю текстовой файл text.txt. Открываю этот файл с помощью встроенного в mc редактора. Вставляю в открытый файл небольшой фрагмент текста, скопированный из любого другого файла или Интернета. (рис 7):

    рис 7:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168067661-4a5d7c0f-0a11-413d-b5e4-39d6b4d63e4b.png)

8) Проделываю с текстом следующие манипуляции, используя горячие клавиши:
    -Удаляю строку текста. (Ctrl + y)
    -Выделяю фрагмент текста и скопирую его на новую строку. (F3 , F5)
    -Выделяю фрагмент текста и переношу его на новую строку. (F3 , F6)
    -Сохраняю файл. (F2)
    -Отменяю последнее действие. (Ctrl + u)
    -Перехожу в конец файла (нажав комбинацию клавиш) и пишу некоторый текст.
    -Перехожу в начало файла (нажав комбинацию клавиш) и пишу некоторый текст.
    -Сохраняю и закрываю файл. (F 10)
    
9) Открываю файл с исходным текстом на языке программирования C++. Используя меню редактора, включаю подсветку синтаксиса, если она не включена, или выключаю, если она включена. (рис 8,9,10,11):

    рис 8:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168068720-37bed509-7607-4b3d-8902-dcc9106da051.png)
    
    рис 9:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168068774-5ffe4976-ea5d-449a-ac0f-2630d9956267.png)
    
    рис 10:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168068891-d897303d-4fb3-4dbf-a59b-ee78ccf13093.png)
    
    рис 11:
    
    ![изображение](https://user-images.githubusercontent.com/104249657/168068964-50bf5931-628f-471a-90e2-15951dc35823.png)

## Вывод:
    Я освоил основные возможности командной оболочки Midnight Commander. Приобрёл навыки практической работы по просмотру каталогов и файлов; манипуляций с ними.
    
## Ответы на контрольные вопросы:
    1. Панели могут дополнительно быть переведены в один из двух режимов: «Информация» или «Дерево». В режиме «Информация» на панель выводятся сведения о файле и текущей файловой системе, расположенных на активной панели. В режиме «Дерево» на одной из панелей выводится структура дерева каталогов.

2. Как с помощью команд shell, так и с помощью меню (комбинаций клавиш) mc можно выполнить следующие операции с файлами:

- копирование «F5» («cp имя_файла имя_каталога (в который копируем)»)

- перемещение/переименование «F6» («mv имя_файла имя_каталога (в который перемещаем)»)

- создание каталога «F7» («mkdir имя_каталога»)

- удаление «F8» («rm имя_файла»)

- изменение прав доступа «ctrl+x» («chmod u+x имя_файла»)

3. Перейти в строку меню панелей mc можно с помощью функциональной клавиши «F9». В строке меню имеются пять меню: «Леваяпанель», «Файл», «Команда», «Настройки» и «Праваяпанель».
Под пункт меню «Быстрый просмотр» позволяет выполнить быстрый просмотр содержимого панели.

Подпункт меню «Информация» позволяет посмотреть информацию о файле или каталоге. В меню каждой (левой или правой) панели можно выбрать «Формат списка»:

- стандартный − выводит список файлов и каталогов с указанием размера и времени правки;

- ускоренный − позволяет задать число столбцов, на которые разбивается панель при выводе списка имён файлов или каталогов без дополнительной информации;

- расширенный − помимо названия файла или каталога выводит сведения о правах доступа, владельце, группе, размере, времени правки;

- определённый пользователем − позволяет вывести те сведения о файле или каталоге, которые задаст сам пользователь.

Подпункт меню «Порядок сортировки» позволяет задать критерии сортировки при выводе списка файлов и каталогов: без сортировки, по имени, расширенный, время правки, время доступа, время изменения атрибута, размер, узел.

4. Команды меню «Файл»:
- Просмотр(«F3»)− позволяет посмотреть содержимое текущего (или выделенного) файла без возможности редактирования.

- Просмотр вывода команды («М»+«!»)− функция запроса команды с параметрами (аргумент к текущему выбранному файлу).

- Правка(«F4») − открывает текущий (или выделенный) файл для его редактирования.

- Копирование(«F5»)− осуществляет копирование одного или нескольких файлов или каталогов в указанное пользователем во всплывающем окне место.

- Права доступа («Ctrl-x»«c»)− позволяет указать (изменить) права доступа к одному или нескольким файлам или каталогам.

- Жёсткая ссылка («Ctrl-x»«l»)− позволяет создать жёсткую ссылку к текущему(или выделенному) файлу.

- Символическая ссылка («Ctrl-x»«s»)− позволяет создать символическую ссылку к текущему (или выделенному) файлу.

- Владелец/группа («Ctrl-x»«o»)− позволяет задать (изменить) владельца и имя группы для одного или нескольких файлов или каталогов.

- Права(расширенные)− позволяет изменить права доступа и владения для одного или нескольких файлов или каталогов.

- Переименование («F6»)− позволяет переименовать (или переместить) один или несколько файлов или каталогов.

- Создание каталога («F7») − позволяет создать каталог.

- Удалить («F8») − позволяет удалить один или несколько файлов или каталогов.

- Выход («F10») − завершает работу mc.

5. Меню Команда
В меню Команда содержатся более общие команды для работы с mc.

Команды меню Команда:

Дерево каталогов − отображает структуру каталогов системы.

Поиск файла − выполняет поиск файлов по заданным параметрам.

Переставить панели − меняет местами левую и правую панели.

Сравнить каталоги («Ctrl-x»«d») − сравнивает содержимое двух каталогов.

Размеры каталогов − отображает размер и время изменения каталога (по умолчанию в mc размер каталога корректно не отображается).

История командной строки − выводит на экран список ранее выполненных в оболочке команд.

Каталоги быстрого доступа(Ctrl-\»)− при вызове выполняется быстрая смена текущего каталога на один из заданного списка.

Восстановление файлов − позволяет восстановить файлы на файловых системах ext2 и ext3.

Редактировать файл расширений − позволяет задать с помощью определённого синтаксиса действия при запуске файлов с определённым расширением (например, какое программное обеспечение запускать для открытия или редактирования файлов с расширением doc или docx).

Редактировать файл меню − позволяет отредактировать контекстное меню пользователя, вызываемое по клавише «F2».

Редактировать файл расцветки имён − позволяет подобрать оптимальную для пользователя расцветку имён файлов в зависимости от их типа.

6. Меню Настройки содержит ряд дополнительных опций по внешнему виду и функциональности mc.
Меню Настройки содержит:

Конфигурация − позволяет скорректировать настройки работы с панелями.

Внешний вид и Настройки панелей − определяет элементы (строка меню, командная строка, подсказки и прочее), отображаемые при вызове mc, а также геометрию расположения панелей и цветовыделение.

Биты символов − задаёт формат обработки информации локальным терминалом.

Подтверждение − позволяет установить или убрать вывод окна с запросом подтверждения действий при операциях удаления и перезаписи файлов, а также при выходе из программы.

Распознание клавиш − диалоговое окно используется для тестирования функциональных клавиш, клавиш управления курсором и прочее.

Виртуальные ФС − настройки виртуальной файловой системы: тайм-аут, пароль и прочее.

7. Функциональные клавиши mc:
F1 – вызов контекстно-зависимой подсказки

F2 – вызов пользовательского меню с возможностью создания и/или дополнения дополнительных функций

F3 – просмотр содержимого файла, на который указывает подсветка в активной панели (без возможности редактирования)

F4 – вызов встроенного в mc редактора для изменения содержания файла, на который указывает подсветка в активной панели

F5 – копирование одного или нескольких файлов, отмеченных впервой (активной) панели, в каталог, отображаемый на второй панели

F6 – перенос одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели

F7 – создание подкаталога в каталоге, отображаемом в активной панели

F8 – удаление одного или нескольких файлов (каталогов), отмеченных в первой (активной) панели файлов

F9 – вызов меню mc

F10 – выход из mc

8. Встроенный в mc редактор вызывается с помощью функциональной клавиши «F4». В нём удобно использовать различные комбинации клавиш при редактировании содержимого (как правило текстового) файла. Клавиши для редактирования файла:
«Ctrl-y» − удалить строку

«Ctrl-u» − отмена последней операции

«ins» - вставка/замена

«F7» − поиск (можно использовать регулярные выражения)

«↑-F7» − повтор последней операции поиска

«F4» − замена

«F3» − первое нажатие − начало выделения, второе − окончание выделения

«F5» − копировать выделенный фрагмент

«F6» − переместить выделенный фрагмент

«F8» − удалить выделенный фрагмент

«F2» − записать изменения в файл

«F10» − выйти из редактор

9. Для редактирования меню пользователя, которое вызывается клавишей «F2», необходимо перейти в пункт «Редактировать файл меню» → «Команда» и изменить настройки файла.

10. Часть команд «Меню пользователя», а также меню «Файл» позволяют выполнять действия, определяемые пользователем, над текущим файлом. Например, копирование каталога или файла, переименование, перемещение, архивирование.

   
